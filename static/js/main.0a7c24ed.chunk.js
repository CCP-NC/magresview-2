(this["webpackJsonpmagresview-2"]=this["webpackJsonpmagresview-2"]||[]).push([[0],{130:function(e,t){},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},155:function(e,t,n){"use strict";n.r(t);var a=n(9),c=n.n(a),i=n(40),l=n.n(i),s=(n(71),n(72),n(38),n(73),n(14)),r=n(8),o=n.n(r);function u(){return o.a.join(o.a.flatten(arguments)," ")}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uid",t=Object(a.useState)((function(){return o.a.uniqueId(e)})),n=Object(s.a)(t,1),c=n[0];return c}var f=n(1),p=n(2),h=n(56),b=n.n(h),j=n(57),m=n.n(j),v=function(){function e(t,n){Object(f.a)(this,e),this._callback=n,this._n=t,this._arg={}}return Object(p.a)(e,[{key:"call",value:function(e){if(this._n<=0)throw Error("CallbackMerger has completed its iterations");o.a.merge(this._arg,e),this._n-=1,0===this._n&&this._callback(this._arg)}}]),e}();var O=n(58),_=Object(O.a)({float:new RegExp("[0-9]*(?:[.][0-9]*)?"),int:new RegExp("[0-9]*"),alpha:new RegExp("[a-zA-Z]*"),alphanumeric:new RegExp("[0-9a-zA-Z]*")});n(78);var y=n.p+"static/media/logo.3a5b963a.svg",g=n(29),x=(n(79),n(5));function k(e){var t=e.onClick||function(){};return Object(x.jsxs)("div",{className:"mv-control mv-cselect-opt",onClick:t,children:[e.icon?e.icon:Object(x.jsx)("span",{}),e.children]})}var S=function(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),c=n[0],i=n[1],l=e.children.filter((function(e){return e.type===k})),r=l.map((function(e){return e.props.value})),o=r.findIndex((function(t){return t===e.selected})),d=e.onSelect||function(){};return Object(a.useEffect)((function(){e.disabled&&i(!1)}),[e.disabled]),Object(x.jsxs)("div",{style:{},className:u("mv-control","mv-cselect",c?null:"mv-cselect-closed",e.disabled?"mv-cselect-disabled":null),onMouseLeave:function(){i(!1)},title:e.title,children:[Object(x.jsxs)("div",{className:"mv-control mv-cselect-main",onClick:function(){i(!e.disabled)},children:[l[o],Object(x.jsx)("span",{className:"mv-cselect-main-caret",children:Object(x.jsx)(g.a,{})})]}),Object(x.jsx)("div",{className:"mv-control mv-cselect-ddown",children:l.map((function(e,t){return Object(a.cloneElement)(e,{key:t,onClick:function(){i(!1),d(r[t])}})}))})]})},w=n(11),E=(n(81),["title","titleId"]);function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},C.apply(this,arguments)}function L(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function I(e,t){var n=e.title,c=e.titleId,i=L(e,E);return a.createElement("svg",C({width:"4.2333336mm",height:"4.2333336mm",viewBox:"0 0 4.2333336 4.2333336",id:"svg47",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},i),n?a.createElement("title",{id:c},n):null,a.createElement("g",{transform:"translate(-18.293285,-29.905846)"},a.createElement("path",{id:"path31-3",style:{fill:"#ffffff",strokeWidth:.113242,strokeLinecap:"round",strokeLinejoin:"round",paintOrder:"fill markers stroke"},d:"m 20.409953,29.969924 a 2.0525921,2.0525921 0 0 0 -2.052588,2.052588 2.0525921,2.0525921 0 0 0 2.052588,2.052588 2.0525921,2.0525921 0 0 0 2.052588,-2.052588 2.0525921,2.0525921 0 0 0 -2.052588,-2.052588 z m 0,0.304891 a 1.7477165,1.7477165 0 0 1 1.747697,1.747697 1.7477165,1.7477165 0 0 1 -1.747697,1.747697 1.7477165,1.7477165 0 0 1 -1.747697,-1.747697 1.7477165,1.7477165 0 0 1 1.747697,-1.747697 z m 0,0.981852 a 0.76590603,0.76590603 0 0 0 -0.765845,0.765845 0.76590603,0.76590603 0 0 0 0.765845,0.765844 0.76590603,0.76590603 0 0 0 0.765844,-0.765844 0.76590603,0.76590603 0 0 0 -0.765844,-0.765845 z"})))}var N,A=a.forwardRef(I),M=(n.p,["title","titleId"]);function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},P.apply(this,arguments)}function D(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function F(e,t){var n=e.title,c=e.titleId,i=D(e,M);return a.createElement("svg",P({width:"4.2333336mm",height:"4.2333336mm",viewBox:"0 0 4.2333336 4.2333336",id:"svg967",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},i),n?a.createElement("title",{id:c},n):null,N||(N=a.createElement("defs",{id:"defs11"})),a.createElement("g",{id:"path4379",style:{fill:"#ffffff",fillOpacity:1}},a.createElement("path",{style:{color:"#000000",fill:"#ffffff",strokeWidth:.242209,InkscapeStroke:"none",fillOpacity:1},d:"M 2.5730992,0.53564415 C 2.0763787,1.0247144 2.1174995,2.1158593 2.1174995,2.1158593 c 0,0 1.090811,0.040787 1.5798807,-0.4559341 C 4.1697678,1.1801491 3.9991355,0.77827206 3.7271516,0.50620724 3.4550908,0.23406562 3.0528756,0.06325682 2.5730992,0.53564415 Z",id:"path949"}),a.createElement("path",{style:{color:"#000000",fill:"#ffffff",InkscapeStroke:"none",fillOpacity:1},d:"m 3.2382813,0.12109375 c -0.2336518,-0.021225 -0.4928561,0.0749413 -0.75,0.328125 C 2.2066461,0.72651627 2.0927766,1.1440416 2.0390625,1.4902344 1.9853484,1.8364272 1.9960938,2.1210938 1.9960937,2.1210938 L 2,2.2324219 l 0.1132813,0.00391 c 0,0 0.2827996,0.010832 0.6289062,-0.042969 C 3.0882941,2.1395587 3.5059251,2.0257566 3.7832031,1.7441406 4.0363717,1.4870123 4.1324787,1.2277171 4.1113281,0.99414063 4.0901775,0.7605642 3.9606182,0.56808419 3.8125,0.41992188 3.6643293,0.27170718 3.471933,0.14231875 3.2382813,0.12109375 Z m -0.021484,0.2421875 C 3.3722117,0.37739918 3.5167352,0.46787023 3.640625,0.59179687 3.7644904,0.71569911 3.8570292,0.86030307 3.8710938,1.015625 3.8851583,1.1709469 3.8305467,1.3515714 3.6113281,1.5742187 3.399537,1.7893233 3.0266438,1.9050922 2.7050781,1.9550781 c -0.251685,0.039123 -0.3754283,0.03197 -0.4570312,0.03125 -7.728e-4,-0.080876 -0.00797,-0.2062232 0.03125,-0.4589844 0.049905,-0.3216465 0.1638213,-0.69447771 0.3789062,-0.90624995 0.222632,-0.21920321 0.403179,-0.27193043 0.5585938,-0.2578125 z",id:"path951"})),a.createElement("g",{id:"path4379-8"},a.createElement("path",{style:{color:"#000000",fill:"#ffffff",strokeWidth:.242209,InkscapeStroke:"none"},d:"M 1.6602402,3.6976978 C 2.1569607,3.2086275 2.11584,2.1174825 2.11584,2.1174825 c 0,0 -1.0908111,-0.040787 -1.57988078,0.4559342 -0.4723876,0.4797762 -0.3017553,0.8816532 -0.0297709,1.153718 C 0.7782491,3.9992763 1.1804642,4.1700851 1.6602402,3.6976978 Z",id:"path957"}),a.createElement("path",{style:{color:"#000000",fill:"#fefefe",InkscapeStroke:"none"},d:"m 2.1210938,1.9960937 c 0,0 -0.2847528,-0.010832 -0.6308594,0.042969 -0.3461066,0.053801 -0.76373761,0.1676027 -1.04101565,0.4492188 -0.25316852,0.2571283 -0.34927569,0.5164235 -0.328125,0.75 C 0.14224444,3.4718577 0.27180335,3.6643377 0.41992188,3.8125 0.56809254,3.9607147 0.76048898,4.0901031 0.99414063,4.1113281 1.2277923,4.1325531 1.48895,4.0363868 1.7460937,3.7832031 2.0277289,3.5059056 2.1396453,3.0883803 2.1933594,2.7421875 2.2470735,2.3959947 2.2363281,2.1132813 2.2363281,2.1132813 L 2.2324219,2 Z M 1.9863281,2.2480469 c 7.439e-4,0.081628 0.00781,0.2052829 -0.03125,0.4570312 C 1.9051725,3.0267247 1.7912568,3.3995559 1.5761719,3.6113281 1.3535401,3.8305313 1.1710397,3.8852117 1.015625,3.8710938 0.86021029,3.8569758 0.71568671,3.7645516 0.59179687,3.640625 0.46793127,3.5167228 0.37734588,3.3721188 0.36328125,3.2167969 0.34921662,3.061475 0.40382827,2.8808505 0.62304687,2.6582031 0.83483802,2.4430985 1.2057781,2.3292828 1.5273437,2.2792969 1.7800414,2.2400162 1.905477,2.2472982 1.9863281,2.2480469 Z",id:"path959"})),a.createElement("path",{style:{color:"#000000",fill:"#fefefe",InkscapeStroke:"none"},d:"M 2.1132813,1.9960937 2,2 1.9960937,2.1132813 c 0,0 -0.010745,0.2827134 0.042969,0.6289062 0.053714,0.3461928 0.1675836,0.7637181 0.4492188,1.0410156 0.2571437,0.2531837 0.5163483,0.34935 0.75,0.328125 C 3.4719329,4.0901031 3.6643293,3.9607147 3.8125,3.8125 3.9606185,3.6643377 4.0901775,3.4718577 4.1113281,3.2382813 4.1324788,3.0047048 4.0363716,2.7454096 3.7832031,2.4882813 3.5059251,2.2066652 3.0882941,2.0928632 2.7421875,2.0390625 2.3960809,1.9852618 2.1132812,1.9960937 2.1132813,1.9960937 Z m 0.1347656,0.2519532 c 0.081645,-7.179e-4 0.2054038,-0.00786 0.4570312,0.03125 0.3215657,0.049986 0.6944589,0.1638016 0.90625,0.3789062 C 3.8305467,2.8808505 3.8851584,3.061475 3.8710938,3.2167969 3.8570291,3.3721188 3.7644906,3.5167228 3.640625,3.640625 3.5167352,3.7645516 3.3722116,3.8569758 3.2167969,3.8710938 3.0613821,3.8852117 2.8808349,3.8305313 2.6582031,3.6113281 2.4431182,3.3995559 2.3292024,3.0267247 2.2792969,2.7050781 2.2402454,2.4533874 2.2473047,2.3297177 2.2480469,2.2480469 Z",id:"path4379-8-7"}),a.createElement("path",{style:{color:"#000000",fill:"#fefefe",InkscapeStroke:"none"},d:"M 0.99414063,0.12304687 C 0.76052273,0.14426881 0.56808207,0.27367078 0.41992188,0.421875 0.27181384,0.57002685 0.14224137,0.76255105 0.12109375,0.99609375 0.09994613,1.2296364 0.19606487,1.4889803 0.44921875,1.7460937 0.72646854,2.0276811 1.1441384,2.1415134 1.4902344,2.1953125 c 0.346096,0.053799 0.6308594,0.042969 0.6308594,0.042969 l 0.1113281,-0.00391 0.00391,-0.1132812 c 0,0 0.010744,-0.2827241 -0.042969,-0.6289063 C 2.1396469,1.1460053 2.0277002,0.72844112 1.7460937,0.45117188 1.4889649,0.19800288 1.2277585,0.10182494 0.99414063,0.12304687 Z M 1.015625,0.36328125 c 0.1554485,-0.014121 0.3379002,0.0405478 0.5605469,0.25976562 0.2151136,0.21180052 0.328999,0.58459283 0.3789062,0.90625003 0.039228,0.2528276 0.032025,0.3781486 0.03125,0.4589843 -0.08081,7.505e-4 -0.2062203,0.00804 -0.4589844,-0.03125 C 1.2057675,1.9070437 0.83486627,1.7913052 0.62304687,1.5761719 0.40381362,1.3535096 0.34921357,1.1729338 0.36328125,1.0175781 0.37734893,0.86222244 0.46792083,0.71766269 0.59179687,0.59375 0.71569719,0.46981287 0.86017652,0.37740225 1.015625,0.36328125 Z",id:"path4379-8-7-9"}))}var R,z=a.forwardRef(F),B=(n.p,["title","titleId"]);function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},T.apply(this,arguments)}function G(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function V(e,t){var n=e.title,c=e.titleId,i=G(e,B);return a.createElement("svg",T({width:"4.2333336mm",height:"4.2333336mm",viewBox:"0 0 4.2333336 4.2333336",id:"svg967",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},i),n?a.createElement("title",{id:c},n):null,R||(R=a.createElement("defs",{id:"defs13"})),a.createElement("g",{id:"path1204"},a.createElement("path",{style:{color:"#000000",fill:"#fffffb",strokeWidth:.214,strokeLinecap:"round",strokeLinejoin:"round",InkscapeStroke:"none",paintOrder:"fill markers stroke"},d:"m 4.089079,2.0563225 c 0,1.0289629 -0.8331367,1.8631023 -1.3433946,1.8631023 -0.5102579,-10e-8 -0.5044128,-0.8341394 -0.5044128,-1.8631023 0,-1.0289628 -0.00584,-1.86310211 0.5044128,-1.86310221 0.5102579,0 1.3433946,0.83413931 1.3433946,1.86310221 z",id:"path1994"}),a.createElement("path",{style:{color:"#000000",fill:"#feffff",strokeLinecap:"round",strokeLinejoin:"round",InkscapeStroke:"none",paintOrder:"fill markers stroke"},d:"m 2.7460938,0.0859375 c -0.1567163,3e-8 -0.2914586,0.07367204 -0.3789063,0.18945313 C 2.2797398,0.39117171 2.2300544,0.54136545 2.1972656,0.71875 c -0.065577,0.3547691 -0.0625,0.8236122 -0.0625,1.3378906 0,0.5142784 -0.00308,0.9811683 0.0625,1.3359375 0.032788,0.1773846 0.082474,0.3295313 0.1699219,0.4453125 0.087448,0.1157812 0.2221891,0.1894531 0.3789063,0.1894531 0.3134343,0 0.6597622,-0.2320725 0.9453125,-0.5859374 0.2855502,-0.353865 0.5039062,-0.841406 0.5039062,-1.3847657 0,-0.5433597 -0.218356,-1.0309007 -0.5039062,-1.3847656 C 3.405856,0.31801006 3.0595281,0.0859375 2.7460938,0.0859375 Z m 0,0.21484375 c 0.196823,0 0.5207148,0.18541461 0.7792968,0.50585938 0.258582,0.32044477 0.4570313,0.76439787 0.4570313,1.24999997 0,0.4856022 -0.1984493,0.9295552 -0.4570313,1.25 C 3.2668086,3.6270854 2.9429167,3.8125 2.7460938,3.8125 2.6476822,3.8125 2.5920753,3.7817592 2.5371094,3.7089844 2.4821435,3.6362095 2.4377356,3.5132859 2.4082031,3.3535156 2.3491381,3.0339751 2.3476563,2.5713242 2.3476563,2.0566406 c 0,-0.5146833 0.00148,-0.9792875 0.060547,-1.2988281 0.029533,-0.1597703 0.07394,-0.28074067 0.1289063,-0.35351562 0.054966,-0.072775 0.1105744,-0.10351561 0.2089844,-0.10351563 z",id:"path1996"})),a.createElement("path",{style:{color:"#000000",fill:"#feffff",strokeLinecap:"round",strokeLinejoin:"round",InkscapeStroke:"none",paintOrder:"fill markers stroke"},d:"m 1.4882812,0.09765625 c -0.3134344,0 -0.66171528,0.23207255 -0.94726558,0.5859375 C 0.25546533,1.0374587 0.03710938,1.5249996 0.03710937,2.0683594 c 0,0.5433597 0.21835596,1.0309007 0.50390625,1.3847656 0.2855503,0.3538649 0.63383118,0.5839844 0.94726558,0.5839844 0.1567172,-1e-7 0.2914583,-0.071719 0.3789063,-0.1875 0.087448,-0.1157812 0.1371335,-0.2679279 0.1699219,-0.4453125 0.065577,-0.3547692 0.0625,-0.8216592 0.0625,-1.3359375 0,-0.5142785 0.00308,-0.9831215 -0.0625,-1.33789065 C 2.0043206,0.5530842 1.9546352,0.40289046 1.8671875,0.28710938 1.7797398,0.17132829 1.6449975,0.09765628 1.4882812,0.09765625 Z m 0,0.21484375 c 0.09841,2e-8 0.1540186,0.0307407 0.2089844,0.10351563 0.054966,0.0727749 0.099374,0.19374531 0.1289063,0.35351562 0.059066,0.31954065 0.058594,0.78414475 0.058594,1.29882815 0,0.5146835 4.713e-4,0.9773345 -0.058594,1.296875 -0.029532,0.1597702 -0.07394,0.2826939 -0.1289063,0.3554687 -0.054966,0.072775 -0.1105728,0.1035156 -0.2089844,0.1035157 -0.196823,0 -0.52266797,-0.1854147 -0.78124995,-0.5058594 -0.25858198,-0.3204448 -0.45507812,-0.7643979 -0.45507812,-1.25 0,-0.4856022 0.19649614,-0.9295553 0.45507812,-1.25000002 C 0.96561323,0.4979146 1.2914582,0.3125 1.4882812,0.3125 Z",id:"path1204-3"}))}var Z,q=a.forwardRef(V),K=(n.p,["title","titleId"]);function Q(){return Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Q.apply(this,arguments)}function W(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function H(e,t){var n=e.title,c=e.titleId,i=W(e,K);return a.createElement("svg",Q({width:"4.2333336mm",height:"4.2333336mm",viewBox:"0 0 4.2333336 4.2333336",id:"svg967",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},i),n?a.createElement("title",{id:c},n):null,Z||(Z=a.createElement("defs",{id:"defs13"})),a.createElement("g",{id:"g2792",transform:"translate(-0.12942697,-0.24771585)"},a.createElement("path",{style:{color:"#000000",fill:"#fffffa",strokeLinecap:"round",strokeLinejoin:"round",InkscapeStroke:"none",paintOrder:"fill markers stroke"},d:"m 0.86132813,2.609375 a 0.25,0.25 0 0 0 -0.25000001,0.25 c 0,0.4485824 0.23846935,0.8635994 0.62695308,1.0878906 0.3884838,0.2242913 0.8693287,0.2242912 1.2578126,0 C 2.8845776,3.7229744 3.125,3.3079575 3.125,2.859375 a 0.25,0.25 0 0 0 -0.25,-0.25 0.25,0.25 0 0 0 -0.25,0.25 c 0,0.2707514 -0.1444286,0.5208743 -0.3789062,0.65625 -0.2344777,0.1353757 -0.523335,0.1353757 -0.7578126,0 C 1.2538037,3.3802493 1.1113281,3.1301264 1.1113281,2.859375 a 0.25,0.25 0 0 0 -0.24999997,-0.25 z",id:"path2096"}),a.createElement("path",{style:{color:"#000000",fill:"#fffffa",strokeLinecap:"round",InkscapeStroke:"none"},d:"m 2.875,0.61328125 a 0.25,0.25 0 0 0 -0.25,0.25 V 2.859375 a 0.25,0.25 0 0 0 0.25,0.25 0.25,0.25 0 0 0 0.25,-0.25 V 0.86328125 a 0.25,0.25 0 0 0 -0.25,-0.25 z",id:"path2453"}),a.createElement("path",{style:{color:"#000000",fill:"#fffffa",strokeLinecap:"round",InkscapeStroke:"none"},d:"m 2.1171875,0.61328125 a 0.25,0.25 0 0 0 -0.25,0.25 0.25,0.25 0 0 0 0.25,0.24999995 h 1.5136719 a 0.25,0.25 0 0 0 0.25,-0.24999995 0.25,0.25 0 0 0 -0.25,-0.25 z",id:"path2453-6"})))}var U=a.forwardRef(H),J=(n.p,{ms:A,efg:z,dip:q,jcoup:U});var X=function(e){if(!(e.icon in J))throw new Error("Invalid icon in MVIcon");var t=J[e.icon],n=e.color||"#ffffff";return Object(x.jsx)(t,Object(w.a)({className:"mv-icon",style:{"--path-fill":n}},e))},Y=n(26),$=n(10),ee=n(66),te=n(3),ne=n(4),ae=n(17);function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];function n(n){var a={};for(var c in n)(o.a.startsWith(c,e)||-1!==t.indexOf(c))&&(a[c]=n[c]);return a}return n}var ie=function(e,t){return e+"_"+t},le=function(e){return e.selected.length>0?e.selected:e.displayed};function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ms",a="",c={ms:"ppm",efg:"au"}[n],i=null;switch(t){case"iso":i=e.map((function(e){var t=Object(s.a)(e,2),n=t[0];t[1];return n.isotropy})),a=c;break;case"aniso":i=e.map((function(e){var t=Object(s.a)(e,2),n=t[0];t[1];return n.anisotropy})),a=c;break;case"asymm":i=e.map((function(e){var t=Object(s.a)(e,2),n=t[0];t[1];return n.asymmetry}));break;case"span":i=e.map((function(e){var t=Object(s.a)(e,2),n=t[0];t[1];return n.span}));break;case"skew":i=e.map((function(e){var t=Object(s.a)(e,2),n=t[0];t[1];return n.skew}));break;case"e_x":i=e.map((function(e){var t=Object(s.a)(e,2),n=t[0];t[1];return n.haeberlen_eigenvalues[0]}));break;case"e_y":i=e.map((function(e){var t=Object(s.a)(e,2),n=t[0];t[1];return n.haeberlen_eigenvalues[1]}));break;case"e_z":i=e.map((function(e){var t=Object(s.a)(e,2),n=t[0];t[1];return n.haeberlen_eigenvalues[2]}));break;case"Q":i=e.map((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1];return n.efgAtomicToHz(a.Q).haeberlen_eigenvalues[2]/1e3})),a="kHz"}return[a,i]}function re(e,t,n){if("dip"===n){var a=function(e,t){var n=e.isotopeData.gamma||0,a=t.isotopeData.gamma||0,c=e.xyz,i=t.xyz.map((function(e,t){return e-c[t]})),l=Math.sqrt(i.reduce((function(e,t){return e+t*t}),0)),s=i.map((function(e){return e/l}));return[-1.3252140307214143e-10*n*a/(8*Math.PI*Math.PI*Math.pow(l,3)),s]}(e,t)[0];return(a/1e3).toFixed(2)+" kHz"}return""}var oe=function(){function e(t,n){Object(f.a)(this,e),this._state=t,this._dispatcher=n}return Object(p.a)(e,[{key:"state",get:function(){return this._state}},{key:"dispatch",value:function(e){this._dispatcher(e)}}]),e}(),ue=new function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(f.a)(this,e),Array.isArray(n)&&(n=o.a.fromPairs(n.map((function(e,t){return[e,t]}))));var a=function(e){var a=n[e];Object.defineProperty(t,e,{get:function(){return a}})};for(var c in n)a(c)}(["VIEWS","SEL_LABELS","CSCALE","MS_ELLIPSOIDS","MS_LABELS","EFG_ELLIPSOIDS","EFG_LABELS","DIP_LINKS","DIP_RENDER"]),de=ue;var fe=16744448;function pe(e,t){var n=ie(e,"view"),a=ie(e,"ellipsoids_on"),c=ie(e,"ellipsoids_scale");return function(i){var l,s=i.app_viewer,r=i[n],u=le(s),d=i[a],f=i[c];if(!r||r===u&&d||r.removeEllipsoids(e),d){var p=u.map((function(t){return t.getArrayValue(e)}));if(0===f){var h=p.map((function(e){return o.a.sum(e.eigenvalues.map(Math.abs))/3}));f=2/(h=o.a.sum(h)/p.length)}u.addEllipsoids(p,e,{scalingFactor:f,color:t,opacity:.125})}return[(l={},Object($.a)(l,n,u),Object($.a)(l,c,f),l),[]]}}var he=pe("ms",fe),be=pe("efg",33023);function je(e,t,n){var a=ie(e,"view"),c=ie(e,"references"),i=ie(e,"labels_type");return function(l){var r,o=l.app_viewer,u=l[a],d=l[c],f=le(o),p=l[i],h=p;if(!u||u===f&&"none"!==p||u.removeLabels(e),"none"!==p){if("cs"===p&&"ms"===e&&(h="iso"),"sel_sites"!==e){var b=se(f.map((function(t){return[t.getArrayValue(e),t.isotopeData]})),h,e),j=Object(s.a)(b,2),m=j[0],v=j[1];"cs"===p&&"ms"===e&&(v=f.map((function(e,t){return(d[e.element]||0)-v[t]}))),r=v.map((function(e){return e.toFixed(2)+" "+m}))}else r=f.map((function(e){return e.crystLabel}));f.addLabels(r,e,(function(e,a){return{color:t,shift:n(e.radius),height:.02}}))}return[Object($.a)({},a,f),[]]}}var me=je("sel_sites",16777215,(function(e){return[e,e,0]})),ve=je("ms",fe,(function(e){return[1.414*e,0,0]})),Oe=je("efg",33023,(function(e){return[e,-e,0]}));var _e,ye=function(e){var t=ie(e,"links_on"),n=ie(e,"central_atom"),a=ie(e,"radius"),c=ie(e,"view");return function(i){var l,s,r=i.app_viewer.model,o=Object(w.a)({},i.sel_ghosts_requests),u=i[t],d=i[n],f=i[a];return u&&d?(s=r.find({sphere:[d,f]}),o[e]=s):(s=r.view([]),delete o[e]),[(l={},Object($.a)(l,c,s),Object($.a)(l,"sel_ghosts_requests",o),l),[de.VIEWS]]}}("dip"),ge=function(e,t){var n=ie(e,"links_on"),a=ie(e,"central_atom"),c=ie(e,"radius"),i=ie(e,"sphere_show"),l=ie(e,"view"),s=ie(e,"link_names");return function(r){var o=r.app_viewer,u=r[l],d=r[s],f=r[a],p=r[c],h=r[n],b=r[i],j=o.model;return j?(d.forEach((function(e){j.removeGraphics(e)})),d=[],h&&f&&u&&u.atoms.forEach((function(n,a){if(n!==f){var c=e+"_link_"+a,i=re(f,n,e);j.addLink(f,n,c,i,{color:t,dashed:!0,onOverlay:!0}),d.push(c)}})),h&&f&&b?j.addSphere(f.xyz,p,e+"_sphere",{opacity:.1,showAxes:!1,showCircles:!1}):j.removeGraphics(e+"_sphere"),[Object($.a)({},s,d),[]]):[{},[]]}}("dip",65408),xe=(_e={},Object($.a)(_e,de.VIEWS,(function(e){var t=e.app_viewer,n=t.model,a=e.sel_selected_view,c=e.sel_displayed_view?e.sel_displayed_view:e.app_default_displayed;return a&&a!==t.selected&&(t.selected=a),n&&n.all.hide(),Object.values(e.sel_ghosts_requests).map((function(e,t){e.show(),e.setProperty("opacity",.5)})),t.displayed=c,c.setProperty("opacity",1),[{},[de.SEL_LABELS,de.CSCALE,de.MS_ELLIPSOIDS,de.MS_LABELS,de.EFG_ELLIPSOIDS,de.EFG_LABELS,de.DIP_RENDER]]})),Object($.a)(_e,de.SEL_LABELS,me),Object($.a)(_e,de.CSCALE,(function(e){var t=e.app_viewer,n=e.cscale_view,a=e.cscale_displ,c=t.displayed,i=le(t),l=null,r=e.cscale_type;if(a&&a.setProperty("color",null),"none"!==r){var u=r.split("_",2),d=Object(s.a)(u,2),f=d[0],p=d[1];l=c.xor(i);var h=se(i.map((function(e){return[e.getArrayValue(f),e.isotopeData]})),p)[1],j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"jet",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,c=b()({colormap:n,nshades:a,format:"hex",alpha:1});return t=t===e?t+1e-8:t,new m.a(e,t,c,1)}(o.a.min(h),o.a.max(h),"portland"),v=h.map((function(e){return j.getColor(e).toHexString()}));i.setProperty("color",v),l.setProperty("color",8947848)}else n&&n.setProperty("color",null);return[{cscale_view:i,cscale_displ:l},[]]})),Object($.a)(_e,de.MS_ELLIPSOIDS,he),Object($.a)(_e,de.MS_LABELS,ve),Object($.a)(_e,de.EFG_ELLIPSOIDS,be),Object($.a)(_e,de.EFG_LABELS,Oe),Object($.a)(_e,de.DIP_LINKS,ye),Object($.a)(_e,de.DIP_RENDER,ge),_e);var ke=function(e){return function(){var t=e.getState(),n=t.listen_update;if(n&&n.length>0){var a={},c=[];n.forEach((function(e){if(e in xe){var n=xe[e](t),i=Object(s.a)(n,2),l=i[0],r=i[1];a=Object(w.a)(Object(w.a)({},a),l),c=c.concat(r)}})),a.listen_update=c,e.dispatch({type:"update",data:a})}}},Se={cscale_view:null,cscale_displ:null,cscale_type:"none"},we=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"colorScaleType",get:function(){return this.state.cscale_type},set:function(e){this.dispatch({type:"update",data:{cscale_type:e,listen_update:[de.CSCALE]}})}},{key:"colorScalePrefix",get:function(){return this.colorScaleType.split("_",2)[0]}}]),n}(oe);function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return ce(e,t=t.concat(Object.keys(Se)))}var Ce=we;function Le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={ms_references:{}};return t&&(n.ms_references=Object(w.a)(Object(w.a)({},e.ms_references),t)),e.ms_references=n.ms_references,"cs"===e.ms_labels_type&&(n=Object(w.a)(Object(w.a)({},n),{},{listen_update:[de.MS_LABELS]})),n}var Ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{type:"update",data:Object(w.a)(Object(w.a)({},e),{},{listen_update:t})}},Ne=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"hasData",get:function(){var e=this.state.app_viewer.model;return e&&e.hasArray("ms")}},{key:"hasEllipsoids",get:function(){return this.state.ms_ellipsoids_on},set:function(e){this.dispatch(Ie({ms_ellipsoids_on:e},[de.MS_ELLIPSOIDS]))}},{key:"ellipsoidScale",get:function(){return this.state.ms_ellipsoids_scale},set:function(e){this.dispatch(Ie({ms_ellipsoids_scale:e},[de.MS_ELLIPSOIDS]))}},{key:"labelsMode",get:function(){return this.state.ms_labels_type},set:function(e){this.dispatch(Ie({ms_labels_type:e},[de.MS_LABELS]))}},{key:"colorScaleAvailable",get:function(){var e=this.colorScalePrefix;return"none"===e||"ms"===e}},{key:"referenceTable",get:function(){if(!this.state.app_viewer||!this.state.app_viewer.model)return[];var e=o.a.uniq(this.state.app_viewer.model.symbols),t=this.state.ms_references;return o.a.fromPairs(e.map((function(e){return[e,t[e]||0]})))}},{key:"updateReferenceTable",value:function(e){this.dispatch({type:"call",function:Le,arguments:[e]})}},{key:"getReference",value:function(e){return this.state.ms_references[e]||0}}]),n}(Ce);var Ae=function(){var e=Object(ae.d)(Ee("ms",["app_viewer","efg_cscale_type"]),ae.b),t=Object(ae.c)();return new Ne(e,t)},Me=n(24);function Pe(e,t){var n=e.app_viewer,a={};return n.model&&(a=Object(w.a)({sel_sites_labels_type:"none",ms_ellipsoids_on:!1,ms_labels_type:"none",ms_cscale_type:"none",efg_ellipsoids_on:!1,efg_labels_type:"none",efg_cscale_type:"none",dip_links_on:!1},Le(e))),n.displayModel(t),Object(w.a)(Object(w.a)({app_default_displayed:n.displayed},a),{},{listen_update:[de.SEL_LABELS,de.CSCALE,de.MS_ELLIPSOIDS,de.MS_LABELS,de.EFG_ELLIPSOIDS,de.EFG_LABELS,de.DIP_LINKS]})}function De(e,t){var n=e.app_viewer,a={};n.deleteModel(t);var c=n.modelList;return!n.model&&c.length>0&&(a=Pe(e,c[0])),a}var Fe=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"initialised",get:function(){return null!==this.viewer}},{key:"viewer",get:function(){return this.state.app_viewer}},{key:"models",get:function(){var e=[];return this.initialised&&(e=this.viewer.modelList),e}},{key:"currentModel",get:function(){var e=null;return this.initialised&&(e=this.viewer.model),e}},{key:"currentModelName",get:function(){var e=null;return this.initialised&&(e=this.viewer.modelName),e}},{key:"theme",get:function(){return this.state.app_theme},set:function(e){this.dispatch({type:"set",key:"app_theme",value:e})}},{key:"sidebar",get:function(){return this.state.app_sidebar},set:function(e){this.dispatch({type:"set",key:"app_sidebar",value:e})}},{key:"initialise",value:function(e){console.log("Initialising CrystVis app on element "+e);var t=new Me.a(e);t.highlightSelected=!0,this.initialised||this.dispatch({type:"set",key:"app_viewer",value:t})}},{key:"load",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.initialised){var a=new v(e.length,n),c=this.viewer,i=this;o.a.forEach(e,s)}function l(e,l,s){var r=c.loadModels(e,s,l,t),u=null;o.a.map(r,(function(e,t){0===e&&(u=t)})),u&&i.display(u),n&&a.call(r)}function s(e){var t=new FileReader,n=e.name.split(".")[0],a=e.name.split(".").pop();t.onload=function(e){l(e.target.result,n,a)},t.readAsText(e)}}},{key:"display",value:function(e){this.dispatch({type:"call",function:Pe,arguments:[e]})}},{key:"delete",value:function(e){this.dispatch({type:"call",function:De,arguments:[e]})}}]),n}(oe);var Re=function(){var e=Object(ae.d)(ce("app"),ae.b),t=Object(ae.c)();return new Fe(e,t)},ze=Me.a.LEFT_CLICK,Be=Me.a.LEFT_CLICK+Me.a.SHIFT_BUTTON,Te=Me.a.LEFT_CLICK+Me.a.CTRL_BUTTON,Ge=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"app",get:function(){return this.state.app_viewer}},{key:"selected",get:function(){return this.state.sel_selected_view},set:function(e){if(!e){var t=this.state.app_viewer.model;t&&(e=t.view([]))}this.dispatch({type:"update",data:{sel_selected_view:e,listen_update:[de.VIEWS]}})}},{key:"displayed",get:function(){return this.state.sel_displayed_view||this.state.app_default_displayed},set:function(e){(e||(e=this.state.app_default_displayed))&&this.dispatch({type:"update",data:{sel_displayed_view:e,listen_update:[de.VIEWS]}})}},{key:"defaultDisplayed",get:function(){return this.state.app_default_displayed}},{key:"highlightSelected",get:function(){return this.state.sel_hlight},set:function(e){var t=this.state.app_viewer;t&&(t.highlightSelected=e,this.dispatch({type:"set",key:"sel_hlight",value:e}))}},{key:"showCrystLabels",get:function(){return"labels"===this.state.sel_sites_labels_type},set:function(e){e=e?"labels":"none",console.log(e),this.dispatch({type:"update",data:{sel_sites_labels_type:e,listen_update:[de.SEL_LABELS]}})}},{key:"selectionOn",get:function(){return this.state.sel_on},set:function(e){this.setSelection(this.selectionMode,{on:e})}},{key:"selectionMode",get:function(){return this.state.sel_mode},set:function(e){this.setSelection(e)}},{key:"selectionSphereR",get:function(){return this.state.sel_sphere_r},set:function(e){this.setSelection(this.selectionMode,{r:e})}},{key:"selectionBondN",get:function(){return this.state.sel_bond_n},set:function(e){this.setSelection(this.selectionMode,{n:e})}},{key:"isotopeChoices",get:function(){var e=this.selected;if(null===e)return null;var t=e.map((function(e,t){return e.element})),n=t[0];if(!t.reduce((function(e,t){return e&&t===n}),!0))return null;var a=e.atoms[0].elementData;return Object.keys(a.isotopes).sort().map((function(e,t){var n=a.isotopes[e];return{A:e,is_nmr_active:0!==n.spin,is_Q_active:0!==n.Q,is_max_nmr:e===a.maxiso_NMR,is_max_Q:e===a.maxiso_Q,abundance:n.abundance}}))}},{key:"setIsotope",value:function(e){var t=this.selected;if(null===t)return null;t.setProperty("isotope",e),this.dispatch({type:"update",data:{listen_update:[de.EFG_LABELS,de.CSCALE]}})}},{key:"setSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.state.app_viewer;if(n){var a={r:this.selectionSphereR,n:this.selectionBondN,on:this.selectionOn};t=Object(w.a)(Object(w.a)({},a),t);var c=null;if(t.on)switch(e){case"atom":c=function(e,t){return n.model.view([e.imgIndex])};break;case"element":c=function(e,t){var a=n.model._queryElements(e.element);return n.model.view(a)};break;case"sphere":var i=t.r;c=function(e,t){var a=n.model._querySphere(e,i);return n.model.view(a)};break;case"molecule":c=function(e,t){var a=n.model._queryMolecule(e);return n.model.view(a)};break;case"bonds":var l=t.n;c=function(e,t){var a=n.model._queryBonded(e,l,!1);return a=a.concat([e.imgIndex]),n.model.view(a)}}var s=this.state.app_default_displayed,r=this;c?(n.onAtomClick((function(e,t){r.selected=s.and(c(e,t))}),ze),n.onAtomClick((function(e,t){r.selected=s.and(n.selected.or(c(e,t)))}),Be),n.onAtomClick((function(e,t){r.selected=s.and(n.selected.xor(c(e,t)))}),Te)):(n.onAtomClick((function(e,t){}),ze),n.onAtomClick((function(e,t){}),Be),n.onAtomClick((function(e,t){}),Te)),this.dispatch({type:"update",data:{sel_mode:e,sel_sphere_r:t.r,sel_bond_n:t.n,sel_on:t.on}})}}}]),n}(oe);var Ve=function(){var e=Object(ae.d)(ce("sel",["app_viewer","app_default_displayed"]),ae.b),t=Object(ae.c)();return new Ge(e,t)},Ze=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{type:"update",data:Object(w.a)(Object(w.a)({},e),{},{listen_update:t})}},qe=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"hasData",get:function(){var e=this.state.app_viewer.model;return e&&e.hasArray("efg")}},{key:"hasEllipsoids",get:function(){return this.state.efg_ellipsoids_on},set:function(e){this.dispatch(Ze({efg_ellipsoids_on:e},[de.EFG_ELLIPSOIDS]))}},{key:"ellipsoidScale",get:function(){return this.state.efg_ellipsoids_scale},set:function(e){this.dispatch(Ze({efg_ellipsoids_scale:e},[de.EFG_ELLIPSOIDS]))}},{key:"labelsMode",get:function(){return this.state.efg_labels_type},set:function(e){this.dispatch(Ze({efg_labels_type:e},[de.EFG_LABELS]))}},{key:"colorScaleAvailable",get:function(){var e=this.colorScalePrefix;return"none"===e||"efg"===e}}]),n}(Ce);var Ke=function(){var e=Object(ae.d)(Ee("efg",["app_viewer","ms_cscale_type"]),ae.b),t=Object(ae.c)();return new qe(e,t)},Qe=Me.a.LEFT_CLICK,We=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"isOn",get:function(){return this.state.dip_links_on},set:function(e){var t={dip_links_on:e,listen_update:[de.DIP_LINKS]};e||(t.dip_central_atom=null),this.dispatch({type:"update",data:t})}},{key:"centralAtom",get:function(){return this.state.dip_central_atom}},{key:"radius",get:function(){return this.state.dip_radius}},{key:"showSphere",get:function(){return this.state.dip_sphere_show}},{key:"bind",value:function(){var e=this.state.app_viewer,t=this._dispatcher;e&&e.onAtomClick((function(e,n){e.opacity<1||t({type:"update",data:{dip_central_atom:e,listen_update:[de.DIP_LINKS]}})}),Qe)}},{key:"unbind",value:function(){var e=this.state.app_viewer;e&&e.onAtomClick((function(){}),Qe)}}]),n}(oe);var He=function(){var e=Object(ae.d)(ce("dip",["app_viewer"]),ae.b),t=Object(ae.c)();return new We(e,t)},Ue=Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)({},{app_viewer:null,app_theme:"dark",app_sidebar:"load",app_default_displayed:null}),{sel_selected_view:null,sel_displayed_view:null,sel_ghosts_requests:{},sel_on:!1,sel_mode:"atom",sel_sphere_r:2,sel_bond_n:1,sel_hlight:!0,sel_sites_view:null,sel_sites_labels_type:"none"}),Se),{ms_view:null,ms_ellipsoids_on:!1,ms_ellipsoids_scale:.05,ms_labels_type:"none",ms_references:{}}),{efg_view:null,efg_ellipsoids_on:!1,efg_ellipsoids_scale:.1,efg_labels_type:"none"}),{dip_view:null,dip_link_names:[],dip_links_on:!1,dip_central_atom:null,dip_radius:5,dip_sphere_show:!0}),{listen_update:[]});var Je=Object(ee.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"none"};switch(t.type){case"set":e=Object(w.a)(Object(w.a)({},e),{},Object($.a)({},t.key,t.value));break;case"update":e=Object(w.a)(Object(w.a)({},e),t.data);break;case"call":var n=[e].concat(t.arguments),a=t.function.apply(t,Object(Y.a)(n));e=Object(w.a)(Object(w.a)({},e),a)}return e}));Je.subscribe(ke(Je));var Xe=Je;function Ye(){var e=Re(),t={dark:"light",light:"dark"};return Object(x.jsx)("div",{id:"mv-themeswitch",onClick:function(){e.theme=t[e.theme]},children:Object(x.jsxs)("div",{id:"mv-themeicons",className:e.theme,children:[Object(x.jsx)(g.b,{id:"mv-themedark"}),Object(x.jsx)(g.e,{id:"mv-themelight"})]})})}var $e=function(){var e=Re();return Object(x.jsxs)("header",{className:"mv-header",children:[Object(x.jsxs)("div",{className:"mv-header-left",children:[Object(x.jsx)("img",{src:y,alt:"MagresView logo",id:"mv-header-logo"}),Object(x.jsxs)("h3",{id:"mv-header-title",children:[Object(x.jsx)("span",{style:{color:"var(--ms-color-2)"},children:"M"}),"agres",Object(x.jsx)("span",{style:{color:"var(--efg-color-2)"},children:"V"}),"iew 2.0"]})]}),Object(x.jsxs)("div",{className:"mv-header-right",children:[Object(x.jsxs)(S,{onSelect:function(t){e.sidebar=t},selected:e.sidebar,children:[Object(x.jsx)(k,{value:"load",icon:Object(x.jsx)(g.d,{}),children:"Load file"}),Object(x.jsx)(k,{value:"select",icon:Object(x.jsx)(g.c,{}),children:"Select and display"}),Object(x.jsx)(k,{value:"ms",icon:Object(x.jsx)(X,{icon:"ms",color:"var(--ms-color-3)"}),children:"Magnetic Shielding"}),Object(x.jsx)(k,{value:"efg",icon:Object(x.jsx)(X,{icon:"efg",color:"var(--efg-color-3)"}),children:"Electric Field Gradient"}),Object(x.jsx)(k,{value:"dip",icon:Object(x.jsx)(X,{icon:"dip",color:"var(--dip-color-3)"}),children:"Dipolar Couplings"}),Object(x.jsx)(k,{value:"jcoup",icon:Object(x.jsx)(X,{icon:"jcoup",color:"var(--jcoup-color-3)"}),children:"J Couplings"})]}),Object(x.jsx)("span",{className:"mv-hor-sep-3"}),Object(x.jsx)(Ye,{})]})]})};n(141);var et=function(e){return Object(x.jsxs)("div",{className:u("mv-sidebar",e.show?"open":""),children:[e.title?Object(x.jsx)("h2",{children:e.title}):null,e.children]})},tt=n(48),nt=n(64);n(142);var at=function(e){return Object(x.jsx)("input",{className:u("mv-control","mv-file",e.notext?"hide-text":null),type:"file",accept:e.filetypes,onChange:function(t){if(e.onSelect){var n=t.target.files;n.length>0&&e.onSelect(n)}t.target.value=null},multiple:e.multiple})},ct=(n(143),n(63));var it=function(e){var t=e.status?"mv-box-"+e.status:"",n=e.onClose||function(){};return Object(x.jsxs)("div",{className:u("mv-control","mv-box",t),children:[Object(x.jsx)("div",{className:"mv-box-header",children:Object(x.jsx)(ct.a,{onClick:n,size:22})}),e.children]})};n(144);var lt=function(e){var t=d("checkbox"),n={};e.color&&(n["--check-color"]=e.color);var a=e.onCheck||function(){};return Object(x.jsxs)("span",{className:"mv-control mv-checkbox",style:n,title:e.title,children:[Object(x.jsx)("input",{id:t,type:"checkbox",checked:e.checked,onChange:function(e){return a(e.target.checked)}}),Object(x.jsx)("label",{htmlFor:t}),e.children]})};n(145);function st(e){var t=e.onClick||function(){};return Object(x.jsxs)("div",{className:u("mv-control","mv-lselect-opt",e.selected?"mv-lselected":null),onClick:t,children:[e.icon?e.icon:Object(x.jsx)("span",{}),e.children]})}var rt=function(e){var t=e.children.filter((function(e){return e.type===st})),n=t.map((function(e){return e.props.value})),c=n.findIndex((function(t){return t===e.selected})),i=e.onSelect||function(){};return Object(x.jsx)("div",{className:"mv-control mv-lselect",title:e.title,children:t.map((function(e,t){return Object(a.cloneElement)(e,{key:t,selected:t===c,onClick:function(){i(n[t])}})}))})},ot=[".cif",".xyz",".magres",".cell"];var ut=function(e){var t=Object(a.useState)({load_as_mol:!1,load_message:"",load_message_status:null,list_selected:""}),n=Object(s.a)(t,2),c=n[0],i=n[1],l=Re(),r=l.models;return console.log("[MVSidebarLoad rendered]"),Object(x.jsxs)(et,{show:e.show,title:"Load file",children:[Object(x.jsxs)("div",{className:"mv-sidebar-block",children:[Object(x.jsx)(at,{filetypes:ot.join(","),onSelect:function(e){var t={molecularCrystal:c.load_as_mol,supercell:[3,3,3]};l.load(e,t,(function(e){var t="",n=!1;o.a.map(e,(function(e,a){0!==e&&(t+="Error parsing file "+a+": "+e+"\n",n=!0)})),""===t&&(t="All files parsed successfully!"),i(Object(w.a)(Object(w.a)({},c),{},{load_message:t,load_message_status:n?"error":"success"}))}))},notext:!0,multiple:!0}),Object(x.jsx)(lt,{onCheck:function(e){i(Object(w.a)(Object(w.a)({},c),{},{load_as_mol:e}))},children:"Load as molecular crystal"})]}),Object(x.jsx)("h4",{children:"Models:"}),Object(x.jsx)(rt,{selected:c.list_selected,onSelect:function(e){i(Object(w.a)(Object(w.a)({},c),{},{list_selected:e}))},children:r.map((function(e,t){var n;return n=e===l.currentModelName?Object(x.jsx)(tt.a,{size:22}):Object(x.jsx)(tt.b,{size:22,onClick:function(){l.display(e)}}),Object(x.jsxs)(st,{value:e,icon:n,children:[e,Object(x.jsx)(nt.a,{style:{color:"var(--err-color-2)"},size:22,onClick:function(){l.delete(e)}})]},t)}))}),Object(x.jsx)("span",{className:"sep-1"}),Object(x.jsx)(it,{status:c.load_message_status,onClose:function(){i(Object(w.a)(Object(w.a)({},c),{},{load_message_status:""}))},children:c.load_message})]})};n(146),n(147);var dt=function(e){return Object(x.jsx)("div",{className:"mv-control",children:Object(x.jsx)("button",Object(w.a)(Object(w.a)({},e),{},{className:"mv-control mv-button",children:e.children}))})};n(148);function ft(e){var t=d("radiobutton");return Object(x.jsxs)("span",{className:"mv-control mv-radio",title:e.title,children:[Object(x.jsx)("input",{id:t,name:e.name,type:"radio",checked:e.checked,onChange:e.onChange}),Object(x.jsx)("label",{htmlFor:t}),e.children]})}function pt(e){var t=o.a.filter(e.children,(function(e){return e.type===ft})),n=t.map((function(e){return e.props.value})).findIndex((function(t){return t===e.selected})),c=e.onSelect?e.onSelect:function(){},i={};return e.color&&(i["--check-color"]=e.color),Object(x.jsxs)("span",{className:"mv-control mv-radiogroup",style:i,title:e.title,children:[e.label?Object(x.jsx)("span",{className:"mv-radiogroup-label",style:e.labelStyle,children:e.label}):null,t.map((function(t,i){return Object(a.cloneElement)(t,{key:i,index:i,checked:i===n,name:e.name,onChange:function(e){c(t.props.value)}})}))]})}var ht=ft;n(55);var bt=function(e){var t=Object(a.useState)(!0),n=Object(s.a)(t,2),c=n[0],i=n[1],l=d("text"),r=null;e.filter&&(r=new RegExp(e.filter));var o={};e.color&&(o["--outline-color"]=e.color);var f=e.onSubmit&&!c;return Object(x.jsxs)("span",{className:"mv-text",style:o,title:e.title,children:[e.children?Object(x.jsx)("label",{htmlFor:l,className:"mv-textlabel",children:e.children}):Object(x.jsx)(x.Fragment,{}),Object(x.jsx)("input",{type:"text",id:l,className:u("mv-control mv-textfield",f?"mv-submit-wait":""),size:e.size,value:e.value,onChange:function(t){var n=t.target.value;if(r){var a=r.exec(n);n=a?a[0]:e.value}i(!1),e.onChange&&e.onChange(n)},onKeyDown:function(t){"Enter"===t.key&&(f&&e.onSubmit(e.value),i(!0))},disabled:e.disabled})]})};function jt(e){var t=Object(a.useState)(1),n=Object(s.a)(t,2),c=n[0],i=n[1],l=Ve(),r=l.selected,u=function(e){if(null==e||0===e.atoms.length)return null;var t=e.atoms,n=t[0].element;return t.slice(1).reduce((function(e,t){return e&&t.element===n}),!0)?n:null}(r),d=null,f=null,p=[],h=0;if(u){d=r.atoms[0].elementData,h=(f=r.atoms.map((function(e){return e.isotope})))[0].toString(),f.reduce((function(e,t){return e&&t===f[0]}),!0)||(p=[Object(x.jsx)(k,{value:f,children:o.a.join(o.a.uniq(f))},-1)],h=f);var b=Object.keys(d.isotopes).sort();p=p.concat(b.map((function(e,t){return Object(x.jsx)(k,{value:e,children:e},t)})))}else p=[Object(x.jsx)(k,{value:0,children:"N/A"},0)];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h3",{children:"Isotope selection"}),Object(x.jsx)(S,{disabled:!u,onSelect:function(e){l.setIsotope(e),i(-c)},selected:h,children:p})]})}var mt=function(e){var t=Ve();function n(e){t.selectionSphereR=e}function c(e){t.selectionBondN=e}console.log("[MVSidebarSelect rendered]");var i=Object(a.useRef)();return i.current=t,Object(a.useEffect)((function(){i.current.selectionOn=e.show}),[e.show,t.app]),Object(x.jsxs)(et,{show:e.show,title:"Select and display",children:[Object(x.jsxs)("div",{className:"mv-sidebar-block",children:[Object(x.jsx)(lt,{checked:t.showCrystLabels,onCheck:function(e){t.showCrystLabels=e},children:"Show crystallographic labels"}),Object(x.jsx)(lt,{checked:t.highlightSelected,onCheck:function(e){t.highlightSelected=e},children:"Highlight selected"}),Object(x.jsx)("span",{className:"sep-1"}),Object(x.jsxs)(pt,{label:"Selection mode",onSelect:function(e){t.selectionMode=e},selected:t.selectionMode,name:"selec_mode_radio",children:[Object(x.jsx)(ht,{value:"atom",children:"Atom"}),Object(x.jsx)(ht,{value:"element",children:"Element"}),Object(x.jsxs)(ht,{value:"sphere",children:["Sphere, radius =\xa0",Object(x.jsx)(bt,{size:"5",value:t.selectionSphereR,filter:"[0-9]*(?:\\.[0-9]*)?",onChange:n,onSubmit:n}),"\xa0  \u212b"]}),Object(x.jsx)(ht,{value:"molecule",children:"Molecule"}),Object(x.jsxs)(ht,{value:"bonds",children:["Bonds, max distance = \xa0",Object(x.jsx)(bt,{size:"3",value:t.selectionBondN,filter:"[0-9]*",onChange:c,onSubmit:c})]})]})]}),Object(x.jsx)("span",{className:"sep-1"}),Object(x.jsx)("div",{className:"mv-sidebar-block",children:Object(x.jsxs)("div",{className:"mv-sidebar-grid",children:[Object(x.jsx)(dt,{onClick:function(){t.selected=t.displayed},children:"Select visible"}),Object(x.jsx)(dt,{onClick:function(){t.selected=null},children:"Select none"}),Object(x.jsx)(dt,{onClick:function(){t.displayed=t.selected},children:"Display selected"}),Object(x.jsx)(dt,{onClick:function(){t.displayed=null},children:"Reset displayed"})]})}),Object(x.jsx)("span",{className:"sep-1"}),Object(x.jsx)("div",{className:"mv-sidebar-block",children:Object(x.jsx)(jt,{})})]})};n(149),n(150);var vt=function(e){var t="min"in e?e.min:0,n="max"in e?e.max:100,c="step"in e?e.step:1;function i(e){return e=parseFloat(e),e=Math.min(e,n),e=Math.max(e,t),e=Math.round(e/c)*c}var l=null!=e.value?i(e.value):t,r=d("range"),o=Object(a.useState)(l.toString()),u=Object(s.a)(o,2),f=u[0],p=u[1],h={};function b(t){t=i(t),e.onChange&&e.onChange(t)}e.color&&(h["--outline-color"]=e.color,h["--thumb-color"]=e.color);var j=Object(a.useRef)();return j.current=[f,p],Object(a.useEffect)((function(){var e=Object(s.a)(j.current,2),t=e[0],n=e[1];parseFloat(t)!==l&&n(l.toString())}),[l]),Object(x.jsxs)("div",{className:"mv-control",children:[e.children?Object(x.jsx)("label",{htmlFor:r,className:"mv-rangelabel",children:e.children}):Object(x.jsx)(x.Fragment,{}),Object(x.jsxs)("span",{className:"mv-control mv-range",style:h,children:[Object(x.jsx)("input",{className:"mv-range-slider",type:"range",id:r,onInput:function(e){b(e.target.value)},min:t,max:n,step:c,value:l,disabled:e.disabled}),Object(x.jsx)(bt,{size:4,filter:_.float,value:f,onChange:p,onSubmit:b,disabled:e.disabled})]})]})},Ot=(n(151),n(0)),_t=n(65);var yt=function(e){var t=e.onAccept||function(){},n=e.onClose||function(){};return Object(x.jsx)("div",{className:u("mv-control mv-modal-overlay",e.display?"":"mv-modal-hidden"),children:Object(x.jsxs)("div",{className:"mv-control mv-modal",children:[Object(x.jsxs)("div",{className:"mv-modal-title",children:[e.title,Object(x.jsx)(Ot.b.Provider,{value:{color:"var(--fwd-color-1)"},children:Object(x.jsx)(_t.a,{size:22,onClick:n})})]}),Object(x.jsx)("div",{className:"mv-modal-content",children:e.children}),Object(x.jsxs)("div",{className:"mv-modal-footer",children:[Object(x.jsx)(dt,{onClick:t,children:"OK"}),Object(x.jsx)(dt,{onClick:n,children:"Cancel"})]})]})})};function gt(e){var t=Ae(),n=Object(a.useState)(t.referenceTable),c=Object(s.a)(n,2),i=c[0],l=c[1],r=Object(a.useRef)();r.current=t,Object(a.useEffect)((function(){l(r.current.referenceTable)}),[e.display]);var u=o.a.keys(i).sort();return Object(x.jsx)(yt,{title:"References for chemical shifts, by element (ppm)",display:e.display,onClose:e.close,onAccept:function(){t.updateReferenceTable(i),e.close()},children:Object(x.jsx)("div",{className:"mv-msref-table",children:u.map((function(e,t){var n=i[e];return Object(x.jsxs)("div",{className:"mv-msref-table-row",children:[Object(x.jsx)("div",{className:"mv-msref-table-el",children:e}),Object(x.jsx)("div",{className:"mv-msref-table-ref",children:Object(x.jsx)(bt,{value:n,onChange:function(t){l(Object(w.a)(Object(w.a)({},i),{},Object($.a)({},e,t)))},size:5})}),Object(x.jsx)("div",{className:"mv-msref-table-copy",children:Object(x.jsx)(dt,{onClick:function(){var e;e=n,l(o.a.fromPairs(u.map((function(t){return[t,e]}))))},children:"Apply to all"})})]},t)}))})})}var xt=function(e){var t=Object(a.useState)({showRefTable:!1}),n=Object(s.a)(t,2),c=n[0],i=n[1],l=Ae();console.log("[MVSidebarMS rendered]");var r=!1;return e.show&&(r=l.hasData),Object(x.jsxs)(et,{show:e.show,title:"Magnetic Shielding",children:[Object(x.jsxs)("div",{className:u("mv-sidebar-block",r?"":"hidden"),children:[Object(x.jsx)(lt,{onCheck:function(e){l.hasEllipsoids=e},checked:l.hasEllipsoids,children:"Ellipsoids"}),Object(x.jsx)(vt,{min:.01,max:.5,step:.005,value:l.ellipsoidScale,onChange:function(e){l.ellipsoidScale=e},disabled:!l.hasEllipsoids,noState:!0,children:"Ellipsoid scale"}),Object(x.jsx)(dt,{onClick:function(){l.ellipsoidScale=0},disabled:!l.hasEllipsoids,children:"Set auto scale"}),Object(x.jsxs)(pt,{label:"Show labels",onSelect:function(e){l.labelsMode=e},selected:l.labelsMode,name:"ms_label_radio",children:[Object(x.jsx)(ht,{value:"none",children:"None"}),Object(x.jsx)(ht,{value:"iso",children:"Isotropy (ppm)"}),Object(x.jsx)(ht,{value:"cs",children:"Chemical Shifts (ppm, uses references)"}),Object(x.jsx)(ht,{value:"aniso",children:"Anisotropy (ppm)"}),Object(x.jsx)(ht,{value:"asymm",children:"Asymmetry"})]}),Object(x.jsxs)(pt,{label:"Use color scale",onSelect:function(e){l.colorScaleType=e},selected:l.colorScaleType,disabled:!l.colorScaleAvailable,name:"ms_cscale_radio",children:[Object(x.jsx)(ht,{value:"none",children:"None"}),Object(x.jsx)(ht,{value:"ms_iso",children:"Isotropy (ppm)"}),Object(x.jsx)(ht,{value:"ms_aniso",children:"Anisotropy (ppm)"}),Object(x.jsx)(ht,{value:"ms_asymm",children:"Asymmetry"})]}),Object(x.jsx)(dt,{onClick:function(){i(Object(w.a)(Object(w.a)({},c),{},{showRefTable:!0}))},children:"Set References"}),Object(x.jsx)(gt,{display:c.showRefTable,close:function(){i(Object(w.a)(Object(w.a)({},c),{},{showRefTable:!1}))}})]}),Object(x.jsx)("div",{className:u("mv-warning-noms",r?"hidden":""),children:"No MS data found"})]})};n(152);var kt=function(e){var t=Ke();console.log("[MVSidebarEFG rendered]");var n=!1;return e.show&&(n=t.hasData),Object(x.jsxs)(et,{show:e.show,title:"Electric Field Gradient",children:[Object(x.jsxs)("div",{className:u("mv-sidebar-block",n?"":"hidden"),children:[Object(x.jsx)(lt,{onCheck:function(e){t.hasEllipsoids=e},checked:t.hasEllipsoids,color:"var(--efg-color-2)",children:"Ellipsoids"}),Object(x.jsx)(vt,{min:.1,max:10,step:.05,value:t.ellipsoidScale,color:"var(--efg-color-2)",onChange:function(e){t.ellipsoidScale=e},disabled:!t.hasEllipsoids,noState:!0,children:"Ellipsoid scale"}),Object(x.jsx)(dt,{onClick:function(){t.ellipsoidScale=0},disabled:!t.hasEllipsoids,children:"Set auto scale"}),Object(x.jsxs)(pt,{label:"Show labels",onSelect:function(e){t.labelsMode=e},selected:t.labelsMode,name:"efg_label_radio",color:"var(--efg-color-2)",children:[Object(x.jsx)(ht,{value:"none",children:"None"}),Object(x.jsx)(ht,{value:"aniso",children:"Anisotropy (au)"}),Object(x.jsx)(ht,{value:"asymm",children:"Asymmetry"}),Object(x.jsx)(ht,{value:"Q",children:"Quadrupole Coupling (kHz)"})]}),Object(x.jsxs)(pt,{label:"Use color scale",onSelect:function(e){t.colorScaleType=e},selected:t.colorScaleType,disabled:!t.colorScaleAvailable,name:"efg_cscale_radio",color:"var(--efg-color-2)",children:[Object(x.jsx)(ht,{value:"none",children:"None"}),Object(x.jsx)(ht,{value:"efg_aniso",children:"Anisotropy (au)"}),Object(x.jsx)(ht,{value:"efg_asymm",children:"Asymmetry"}),Object(x.jsx)(ht,{value:"efg_Q",children:"Quadrupole Coupling"})]})]}),Object(x.jsx)("div",{className:u("mv-warning-noms",n?"hidden":""),children:"No EFG data found"})]})};n(153);var St=function(e){var t=He(),n=Object(a.useRef)();return n.current=t,Object(a.useEffect)((function(){var t=n.current;e.show&&t.isOn?t.bind():t.unbind()}),[e.show,t.isOn]),Object(x.jsx)(et,{show:e.show,title:"Dipolar couplings",children:Object(x.jsx)("div",{className:"mv-sidebar-block",children:Object(x.jsx)(lt,{color:"var(--dip-color-3)",onCheck:function(e){t.isOn=e},checked:t.isOn,children:"Show dipolar couplings"})})})};function wt(){var e=Re(),t=Object(a.useRef)(e);return Object(a.useEffect)((function(){t.current.initialise("#mv-appwindow")}),[]),Object(x.jsxs)("div",{className:u("mv-main-page","theme-"+e.theme),children:[Object(x.jsx)($e,{}),Object(x.jsx)(ut,{show:"load"===e.sidebar}),Object(x.jsx)(mt,{show:"select"===e.sidebar}),Object(x.jsx)(xt,{show:"ms"===e.sidebar}),Object(x.jsx)(kt,{show:"efg"===e.sidebar}),Object(x.jsx)(St,{show:"dip"===e.sidebar}),Object(x.jsx)("div",{id:"mv-appwindow",className:"mv-background"})]})}var Et=function(){return Object(x.jsx)("div",{className:"mv-main-app",children:Object(x.jsx)(wt,{})})},Ct=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,158)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,l=t.getTTFB;n(e),a(e),c(e),i(e),l(e)}))};l.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(ae.a,{store:Xe,children:Object(x.jsx)(Et,{})})}),document.getElementById("root")),Ct(console.log)},38:function(e,t,n){},55:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},81:function(e,t,n){}},[[155,1,2]]]);
//# sourceMappingURL=main.0a7c24ed.chunk.js.map